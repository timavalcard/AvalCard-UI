"use client"
import Level from '@/components/ui/profile/userLevel/Level';
import styles from './ProfileBox.module.css'
import Link from 'next/link';
import { useSelector } from 'react-redux';

import { FaAngleLeft } from "react-icons/fa6";
import Image from 'next/image';
import WalletBalance from '@/components/ui/profile/WalletBalance';
import IconButton from '@/components/ui/globals/IconButton';

export default function ProfileBox() {
    const auth = useSelector(state => state.auth);
    return (
        <div className={`flex justify-center items-center cursor-pointer relative ml-4 lg:border lg:w-[183px] w-auto ${styles.userBox} ${styles.profileParent}`}>

            <div className='hidden lg:block'>
                <img className="rounded-full" loading="lazy" width={33} height={33} src={auth.user ? auth.user.avatar : '/images/user-icon.jpg'} alt={auth.user?.name} />
            </div>
            <div className='hidden lg:flex items-baseline'>
                <div className={`grid justify-start mx-2`}>
                    <Link href={'/panel/profile'} className='text-very-bold'>{auth.user?.name}{auth.user?.last_name ? " " + auth.user.last_name : ""} {!auth.user && 'کاربر مهمان'} </Link>
                    {/* <p className={`${styles.subTitle}`}>متن امتحانی برای زیرتایتل</p>*/}
                </div>
                <div>
                    <svg width="13" className='-mb-px' viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.36627 1L6.36627 6L11.3663 1" stroke="#464646" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
            </div>

            <IconButton className={'lg:!hidden'} border>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="#464646" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20.5901 22C20.5901 18.13 16.7402 15 12.0002 15C7.26015 15 3.41016 18.13 3.41016 22" stroke="#464646" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </IconButton>

            <div className={`custom-shadow text-xs font-medium ${styles.profilePanel}`}>
                <Link href={'/panel/profile'} className={styles.header}>
                    <div className="flex items-start gap-1">
                        <div>
                            <img loading="lazy" width={33} height={33} src={auth.user ? auth.user.avatar : '/images/user-icon.jpg'} alt={auth.user?.name} className='-mt-[2px] rounded-full' />
                        </div>
                        <div>
                            <div className="text-xxs font-medium">
                                {auth.user?.name}{auth.user?.last_name ? " " + auth.user.last_name : ""}
                            </div>
                            <div>
                                {/*<Level className={"!text-2xs"} />*/}
                            </div>
                        </div>
                    </div>

                    <div className='flex items-center mt-[1.5px]'>
                        <div>
                            {auth.user?.mobile}
                        </div>
                        <div>
                            <FaAngleLeft className='text-green-light -mt-[1px]' />
                        </div>
                    </div>

                </Link>

                <div className={`mt-3 grid-cols-1 ${styles.items}`}>
                    <div className={`!px-0 ${styles.item}`}>
                        <WalletBalance amount={auth.user?.wallet} className={'!py-2.5 !px-2.5 !text-xs !w-full'} />
                    </div>

                    <Link href={'/panel/profile#settings'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3.37135 2.23821L3.41765 1.74036H3.41765L3.37135 2.23821ZM4.34354 1.83552L3.95877 1.51622V1.51622L4.34354 1.83552ZM1.66052 3.42045L1.16267 3.46675L1.66052 3.42045ZM2.88773 2.19323L2.84143 2.69108H2.84143L2.88773 2.19323ZM1.3028 4.87626L0.983506 4.49149H0.983506L1.3028 4.87626ZM1.7055 3.90407L2.20335 3.85777L1.7055 3.90407ZM0.929025 6.92197L0.60973 7.30674H0.60973L0.929025 6.92197ZM0.929025 5.18643L1.24832 5.5712H1.24832L0.929025 5.18643ZM1.7055 8.20433L1.20764 8.15803L1.7055 8.20433ZM1.3028 7.23214L1.6221 6.84736H1.6221L1.3028 7.23214ZM2.88773 9.91516L2.84143 9.41731H2.84143L2.88773 9.91516ZM1.66052 8.68795L2.15837 8.73425L1.66052 8.68795ZM4.34354 10.2729L4.72832 9.95359L4.34354 10.2729ZM3.37135 9.87019L3.41765 10.368H3.41765L3.37135 9.87019ZM6.38926 10.6467L6.77403 10.966L6.77403 10.966L6.38926 10.6467ZM4.65371 10.6467L4.26894 10.966H4.26894L4.65371 10.6467ZM7.67162 9.87019L7.62531 10.368H7.62531L7.67162 9.87019ZM6.69942 10.2729L6.31465 9.95359L6.31465 9.95359L6.69942 10.2729ZM9.38245 8.68795L8.8846 8.73425V8.73425L9.38245 8.68795ZM8.15524 9.91516L8.20154 9.41731H8.20154L8.15524 9.91516ZM9.74017 7.23214L9.42087 6.84736L9.74017 7.23214ZM9.33747 8.20433L9.83532 8.15803V8.15803L9.33747 8.20433ZM10.1139 5.18643L10.4332 4.80165V4.80165L10.1139 5.18643ZM10.1139 6.92197L10.4332 7.30674L10.1139 6.92197ZM9.33747 3.90407L9.83532 3.95037V3.95037L9.33747 3.90407ZM9.74017 4.87626L9.42087 5.26103L9.74017 4.87626ZM8.15524 2.19323L8.10894 1.69538L8.15524 2.19323ZM9.38245 3.42045L8.8846 3.37415V3.37415L9.38245 3.42045ZM6.69942 1.83552L7.0842 1.51622V1.51622L6.69942 1.83552ZM7.67162 2.23821L7.71792 2.73606L7.67162 2.23821ZM6.38926 1.46174L6.00448 1.78103V1.78103L6.38926 1.46174ZM4.65371 1.46174L5.03849 1.78103V1.78103L4.65371 1.46174ZM6.00448 1.78103L6.31465 2.15481L7.0842 1.51622L6.77403 1.14244L6.00448 1.78103ZM7.71792 2.73606L8.20154 2.69108L8.10894 1.69538L7.62531 1.74036L7.71792 2.73606ZM8.8846 3.37415L8.83962 3.85777L9.83532 3.95037L9.8803 3.46675L8.8846 3.37415ZM9.42087 5.26103L9.79465 5.5712L10.4332 4.80165L10.0595 4.49149L9.42087 5.26103ZM9.79465 6.5372L9.42087 6.84736L10.0595 7.61691L10.4332 7.30674L9.79465 6.5372ZM8.83962 8.25063L8.8846 8.73425L9.8803 8.64165L9.83532 8.15803L8.83962 8.25063ZM8.20154 9.41731L7.71792 9.37234L7.62531 10.368L8.10894 10.413L8.20154 9.41731ZM6.31465 9.95359L6.00448 10.3274L6.77403 10.966L7.0842 10.5922L6.31465 9.95359ZM5.03849 10.3274L4.72832 9.95359L3.95877 10.5922L4.26894 10.966L5.03849 10.3274ZM3.32505 9.37234L2.84143 9.41731L2.93403 10.413L3.41765 10.368L3.32505 9.37234ZM2.15837 8.73425L2.20335 8.25063L1.20764 8.15803L1.16267 8.64165L2.15837 8.73425ZM1.6221 6.84736L1.24832 6.5372L0.60973 7.30674L0.983506 7.61691L1.6221 6.84736ZM1.24832 5.5712L1.6221 5.26103L0.983506 4.49149L0.60973 4.80165L1.24832 5.5712ZM2.20335 3.85777L2.15837 3.37415L1.16267 3.46675L1.20764 3.95037L2.20335 3.85777ZM2.84143 2.69108L3.32505 2.73606L3.41765 1.74036L2.93403 1.69538L2.84143 2.69108ZM4.72832 2.15481L5.03849 1.78103L4.26894 1.14244L3.95877 1.51622L4.72832 2.15481ZM3.32505 2.73606C3.86008 2.78582 4.38518 2.56831 4.72832 2.15481L3.95877 1.51622C3.82645 1.67567 3.62397 1.75955 3.41765 1.74036L3.32505 2.73606ZM2.15837 3.37415C2.12198 2.98282 2.4501 2.65469 2.84143 2.69108L2.93403 1.69538C1.91921 1.601 1.06829 2.45192 1.16267 3.46675L2.15837 3.37415ZM1.6221 5.26103C2.0356 4.9179 2.25311 4.39279 2.20335 3.85777L1.20764 3.95037C1.22683 4.15668 1.14296 4.35917 0.983506 4.49149L1.6221 5.26103ZM1.24832 6.5372C0.945873 6.28622 0.945873 5.82218 1.24832 5.5712L0.60973 4.80165C-0.174597 5.45251 -0.174597 6.65589 0.60973 7.30674L1.24832 6.5372ZM2.20335 8.25063C2.25311 7.71561 2.0356 7.1905 1.6221 6.84736L0.983506 7.61691C1.14296 7.74923 1.22683 7.95172 1.20764 8.15803L2.20335 8.25063ZM2.84143 9.41731C2.4501 9.45371 2.12198 9.12558 2.15837 8.73425L1.16267 8.64165C1.06829 9.65648 1.91921 10.5074 2.93403 10.413L2.84143 9.41731ZM4.72832 9.95359C4.38518 9.54008 3.86008 9.32258 3.32505 9.37234L3.41765 10.368C3.62397 10.3489 3.82645 10.4327 3.95877 10.5922L4.72832 9.95359ZM6.00448 10.3274C5.7535 10.6298 5.28946 10.6298 5.03849 10.3274L4.26894 10.966C4.91979 11.7503 6.12318 11.7503 6.77403 10.966L6.00448 10.3274ZM7.71792 9.37234C7.18289 9.32258 6.65778 9.54008 6.31465 9.95359L7.0842 10.5922C7.21651 10.4327 7.419 10.3489 7.62531 10.368L7.71792 9.37234ZM8.8846 8.73425C8.92099 9.12558 8.59287 9.45371 8.20154 9.41731L8.10894 10.413C9.12376 10.5074 9.97468 9.65648 9.8803 8.64165L8.8846 8.73425ZM9.42087 6.84736C9.00737 7.1905 8.78986 7.71561 8.83962 8.25063L9.83532 8.15803C9.81614 7.95172 9.90001 7.74923 10.0595 7.61691L9.42087 6.84736ZM9.79465 5.5712C10.0971 5.82218 10.0971 6.28622 9.79465 6.5372L10.4332 7.30674C11.2176 6.65589 11.2176 5.45251 10.4332 4.80165L9.79465 5.5712ZM8.83962 3.85777C8.78986 4.39279 9.00737 4.9179 9.42087 5.26103L10.0595 4.49149C9.90001 4.35917 9.81614 4.15668 9.83532 3.95037L8.83962 3.85777ZM8.20154 2.69108C8.59287 2.65469 8.92099 2.98282 8.8846 3.37415L9.8803 3.46675C9.97468 2.45192 9.12376 1.601 8.10894 1.69538L8.20154 2.69108ZM6.31465 2.15481C6.65778 2.56831 7.18289 2.78582 7.71792 2.73606L7.62531 1.74036C7.419 1.75955 7.21652 1.67567 7.0842 1.51622L6.31465 2.15481ZM6.77403 1.14244C6.12318 0.358117 4.91979 0.358117 4.26894 1.14244L5.03849 1.78103C5.28946 1.47859 5.7535 1.47859 6.00448 1.78103L6.77403 1.14244ZM6.52148 6.0542C6.52148 6.60648 6.07377 7.0542 5.52148 7.0542V8.0542C6.62605 8.0542 7.52148 7.15877 7.52148 6.0542H6.52148ZM5.52148 7.0542C4.9692 7.0542 4.52148 6.60648 4.52148 6.0542H3.52148C3.52148 7.15877 4.41691 8.0542 5.52148 8.0542V7.0542ZM4.52148 6.0542C4.52148 5.50191 4.9692 5.0542 5.52148 5.0542V4.0542C4.41691 4.0542 3.52148 4.94963 3.52148 6.0542H4.52148ZM5.52148 5.0542C6.07377 5.0542 6.52148 5.50191 6.52148 6.0542H7.52148C7.52148 4.94963 6.62605 4.0542 5.52148 4.0542V5.0542Z" fill="currentColor" />
                            </svg>

                        </div>
                        <div>
                            تنظیمات حساب
                        </div>
                    </Link>

                    <Link href={'/panel/profile#bankInfo'} className={styles.item}>
                        <div>
                            <svg width="12" viewBox="0 0 12 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.521484 2.24512C0.521484 1.69283 0.9692 1.24512 1.52148 1.24512H9.52148C10.0738 1.24512 10.5215 1.69283 10.5215 2.24512V7.24512C10.5215 7.7974 10.0738 8.24512 9.52148 8.24512H1.52148C0.9692 8.24512 0.521484 7.7974 0.521484 7.24512V2.24512Z" fill="white" />
                                <path d="M10.5215 3.74512H0.521484M4.02148 6.24512H2.52148M1.52148 8.24512H9.52148C10.0738 8.24512 10.5215 7.7974 10.5215 7.24512V2.24512C10.5215 1.69283 10.0738 1.24512 9.52148 1.24512H1.52148C0.9692 1.24512 0.521484 1.69283 0.521484 2.24512V7.24512C0.521484 7.7974 0.9692 8.24512 1.52148 8.24512Z" stroke="currentColor" stroke-linecap="round" />
                            </svg>

                        </div>
                        <div>
                            حساب های بانکی
                        </div>
                    </Link>

                    <Link href={'/panel/auth'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.52148 6.59473H3.02148C2.49105 6.59473 1.98234 6.80544 1.60727 7.18051C1.2322 7.55559 1.02148 8.06429 1.02148 8.59473V9.59473M7.02148 2.59473C7.02148 3.6993 6.12605 4.59473 5.02148 4.59473C3.91691 4.59473 3.02148 3.6993 3.02148 2.59473C3.02148 1.49016 3.91691 0.594727 5.02148 0.594727C6.12605 0.594727 7.02148 1.49016 7.02148 2.59473ZM8.52148 6.59473L8.59152 6.78398C8.80421 7.35879 9.25742 7.812 9.83223 8.0247L10.0215 8.09473L9.83223 8.16476C9.25742 8.37746 8.80421 8.83066 8.59152 9.40547L8.52148 9.59473L8.45145 9.40547C8.23875 8.83066 7.78555 8.37746 7.21074 8.16476L7.02148 8.09473L7.21074 8.0247C7.78555 7.812 8.23875 7.35879 8.45145 6.78398L8.52148 6.59473Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>

                        </div>
                        <div>
                            احراز هویت
                        </div>
                    </Link>

                    {/*<Link href={'/panel/auth'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.52148 1.13354C6.69107 2.28164 8.21757 2.87942 9.77757 2.80021C10.0047 3.65744 10.0742 4.55658 9.98192 5.4442C9.88966 6.33182 9.63753 7.18981 9.2405 7.96717C8.84348 8.74454 8.30966 9.42542 7.67078 9.96937C7.0319 10.5133 6.30099 10.9092 5.52148 11.1335C4.74198 10.9092 4.01107 10.5133 3.37219 9.96937C2.73331 9.42542 2.19949 8.74454 1.80247 7.96717C1.40544 7.18981 1.15331 6.33182 1.06105 5.4442C0.968787 4.55658 1.03828 3.65744 1.2654 2.80021C2.8254 2.87942 4.3519 2.28164 5.52148 1.13354Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>

                        </div>
                        <div>
                            امنیت حساب
                        </div>
                    </Link>*/}

                    <div className='my-1'>
                        <hr className='border-[#E8E8E8]' />
                    </div>

                    <Link href={'/panel/profile'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1.48187 9.88332C1.547 9.46752 1.80578 8.92838 2.10711 8.62705C2.48219 8.25197 2.99089 8.04126 3.52133 8.04126H7.52133C8.05176 8.04126 8.56047 8.25197 8.93554 8.62705C9.13707 8.82858 9.29115 9.06869 9.39059 9.33003C9.43948 9.45852 9.49987 9.77079 9.52148 9.90748M2.02148 1.04126H9.02148C9.57377 1.04126 10.0215 1.48897 10.0215 2.04126L10.0215 9.04126C10.0215 9.59354 9.57377 10.0413 9.02148 10.0413H2.02148C1.4692 10.0413 1.02148 9.59354 1.02148 9.04126L1.02148 2.04126C1.02148 1.48897 1.4692 1.04126 2.02148 1.04126ZM7.52148 4.54126C7.52148 5.64583 6.62605 6.54126 5.52148 6.54126C4.41691 6.54126 3.52148 5.64583 3.52148 4.54126C3.52148 3.43669 4.41691 2.54126 5.52148 2.54126C6.62605 2.54126 7.52148 3.43669 7.52148 4.54126Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>

                        </div>
                        <div>
                            مدیریت حساب
                        </div>
                    </Link>

                    <Link href={'/panel/orders'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 12 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.31198 5.2139L7.02148 7.50439V8.50439H8.02148L10.312 6.2139C10.5881 5.93776 10.5881 5.49004 10.312 5.2139C10.0358 4.93776 9.58812 4.93776 9.31198 5.2139Z" fill="currentColor" />
                                <path d="M5.02148 7.50439H1.52148C0.9692 7.50439 0.521484 7.05668 0.521484 6.50439V1.50439C0.521484 0.95211 0.9692 0.504395 1.52148 0.504395H9.52148C10.0738 0.504395 10.5215 0.95211 10.5215 1.50439V3.00439H0.521484M7.02148 7.50439L9.31198 5.2139C9.58812 4.93776 10.0358 4.93776 10.312 5.2139C10.5881 5.49004 10.5881 5.93776 10.312 6.2139L8.02148 8.50439H7.02148V7.50439Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>

                        </div>
                        <div>
                            پیگیری سفارشات
                        </div>
                    </Link>

                    <Link href={'/panel/tickets'} className={styles.item}>
                        <div>
                            <svg width="13" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.521484 6.6748V5.1748C0.521484 4.11394 0.942912 3.09652 1.69306 2.34638C2.4432 1.59623 3.46062 1.1748 4.52148 1.1748C5.58235 1.1748 6.59977 1.59623 7.34991 2.34638C8.10006 3.09652 8.52148 4.11394 8.52148 5.1748V6.6748M0.521484 6.6748C0.521484 6.40959 0.626841 6.15523 0.814378 5.9677C1.00191 5.78016 1.25627 5.6748 1.52148 5.6748H2.02148C2.2867 5.6748 2.54105 5.78016 2.72859 5.9677C2.91613 6.15523 3.02148 6.40959 3.02148 6.6748V8.1748C3.02148 8.44002 2.91613 8.69437 2.72859 8.88191C2.54105 9.06945 2.2867 9.1748 2.02148 9.1748H1.52148C1.25627 9.1748 1.00191 9.06945 0.814378 8.88191C0.626841 8.69437 0.521484 8.44002 0.521484 8.1748V6.6748ZM8.52148 6.6748C8.52148 6.40959 8.41613 6.15523 8.22859 5.9677C8.04105 5.78016 7.7867 5.6748 7.52148 5.6748H7.02148C6.75627 5.6748 6.50191 5.78016 6.31438 5.9677C6.12684 6.15523 6.02148 6.40959 6.02148 6.6748V8.1748C6.02148 8.44002 6.12684 8.69437 6.31438 8.88191C6.50191 9.06945 6.75627 9.1748 7.02148 9.1748H7.52148M8.52148 6.6748V8.1748C8.52148 8.44002 8.41613 8.69437 8.22859 8.88191C8.04105 9.06945 7.7867 9.1748 7.52148 9.1748M7.52148 9.1748C7.52148 10.0033 6.17848 10.6748 4.52148 10.6748" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>

                        </div>
                        <div>
                            تیکت و پشتیبانی
                        </div>
                    </Link>

                    <div className='my-1'>
                        <hr className='border-[#E8E8E8]' />
                    </div>

                    <Link href={'/panel/logout'} className={`!text-custom-red-2 !pb-0 ${styles.item}`}>
                        <div>
                            <svg width="13" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4.02148 9.78711H2.02148C1.75627 9.78711 1.50191 9.68175 1.31438 9.49422C1.12684 9.30668 1.02148 9.05233 1.02148 8.78711V1.78711C1.02148 1.52189 1.12684 1.26754 1.31438 1.08C1.50191 0.892466 1.75627 0.787109 2.02148 0.787109H4.02148M7.52148 7.78711L10.0215 5.28711M10.0215 5.28711L7.52148 2.78711M10.0215 5.28711H4.02148" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>


                        </div>
                        <div>
                            خروج از حساب کاربری
                        </div>
                    </Link>

                </div>
            </div>

        </div>
    );
}